# shopping-cart

# Метатеги
Метатеги (meta tags) — это элементы разметки HTML-страниц, предназначенные для хранения и передачи данных предназначенной для браузеров и поисковых систем. Как правило, они размещаются в блоке <head> HTML-документа:
```html
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>Заголовок страницы для поисковых систем</title>
<meta name="description" content="Описание страницы для поисковых систем">
<meta name="keywords" content="Наиболее важные ключевые слова страницы для поисковых систем">

…
</head>
<body>
<h1>Заголовок документа</h1>
<p>Текст документа</p>
…
</body>
</html>
```
Наиболее важные html-теги, связанные в ранжирование страниц сайта в поисковых системах, это теги:

- title;
- заголовки h1, h2, h3, …
- description — описание веб-страницы,
- keywords — ключевые слова,
- http-equiv — тип отправляемого документа и кодировка (charset),
- generator — CMS сайта,
- author — автор,
- copyright — авторские права,
- robots — правила индексирования страницы для роботов,
- viewport — данные о настройке области просмотра

Руководство по поисковой оптимизации для начинающих от Google
https://support.google.com/webmasters/answer/7451184?hl=ru


# Метатег описания
Метатег описания (description) на странице помогает поисковым системам понять ее содержание. Заголовок страницы может состоять из нескольких слов или фразы, а в метатег описания можно добавить несколько предложений или даже небольшой абзац. 

В Google Search Console https://www.google.com/webmasters/#?modal_active=none есть удобный отчет "Оптимизация HTML", в котором указываются слишком короткие и длинные, а также слишком часто повторяющиеся метатеги описания и теги title. Как и тег title, метатег описания должен находиться в разделе head HTML-документа.

Метатеги description важны, поскольку поисковые системы могут использовать их как как описание ваших страниц. Также поисковые системы могут выбирать в качестве описания фрагмент видимого текста страницы, если он соответствует поисковому запросу. 

Рекомендуется добавлять метатеги описания на все страницы на случай, если поисковые системы не смогут найти отрывок текста, соответствующий поисковому запросу. 

В блоге Google для веб-мастеров есть информация о том, как улучшить описание с помощью метатегов description и какое описание нужно пользователям https://webmasters.googleblog.com/2007/09/improve-snippets-with-meta-description.html. 
https://webmasters.googleblog.com/2017/06/better-snippets-for-your-users.html



## Заполнение мета-тегов и микроразметки:

- Для высокого ранжирования сайта вашего интернет-магазина в поисковой выдаче. Мета-теги прописываются в части <head> программного кода каждой из страниц интернет-магазина. Они предназначены для того, чтобы поисковые системы понимали, какая информация находится на страницах сайта, и рекомендовали ее пользователям, ищущим ваши товары.

- Для формирования развернутого сниппета – текстовой информации, отбираемой поисковой машиной для презентации страницы вашего интернет-магазина в результатах поиска. Для сниппета может быть выбран отрывок из текста с ключевым словом или текст из тега description.

- Для повышения кликабельности вашего сайта в поисковиках. Чем лучше и точнее вы опишите то, что встретит покупатель, перейдя на страницу вашего сайта, тем выше будет количество переходов и конверсия поискового трафика в продажи.

- Для привлекательного описания ссылки на товар в социальных сетях. Если вы продвигаете свои товары в социальных сетях, позаботьтесь о том, чтобы к ним были придуманы интригующие описания, которые подтягиваются к ссылкам и привлекают пользователей на ваш сайт.

- Для представления дополнительной информации о магазине. Если вы при помощи микроразметки добавите в сниппет информацию о ваших преимуществах, условиях доставки и оплаты, рейтинге, ценах, режиме работы и пунктах самовывоза, то эта информация, отображенная в строчке поисковика, поможет покупателям остановить свой выбор именно на вашем интернет-магазине.

Как обеспечить показ информативных заголовков и описаний страниц в результатах поиска Google
https://support.google.com/webmasters/answer/35624


Установка и настройка Google Analytics для интернет-магазина 
https://beseller.by/blog/google-analytics-dliya-internet-magazina/


## Управление SEO-тегами

Правильное заполнение мета-тегов помогает страницам сайта не только адекватно восприниматься поисковыми системами и продвигаться в топе, но и конкурировать с другими магазинами за внимание потенциальных покупателей. Ведь если в результатах поиска у вашего магазина уже есть данные о быстрой доставке и количестве пунктов самовывоза с возможностью примерки, вероятнее всего, покупатели кликнут именно на ваш магазин. И вам останется только удержать покупателя на сайте при помощи удобной навигации, быстроты загрузки страниц, исчерпывающих и достоверных описаний товара и его характеристик, качественных фото и видео, адекватных цен и простых шагов оформления заказа.

Если вы хотите посмотреть как сформированы мета-теги на страницах магазинов-конкурентов или продвигаете свой интернет-магазин самостоятельно и доверили заполнение SEO-тегов контент-менеджеру, вам будет полезно знать, как посмотреть мета-теги в браузере и отредактировать их при необходимости.

Для просмотра тегов в коде страницы, для браузеров Google Chrome, Mozilla Firefox и Opera, вам необходимо:

- Открыть в ВЕБ-браузере интересующую вас страницу.
- Нажать сочетание клавиш «CTRL» + «U».
- В новой вкладке браузера откроется HTML-код страницы.
- При необходимости, Нажать сочетание клавиш «CTRL» + «F» для поиска в коде страницы тега, например: title, description, keywords или h1.

 
## Правила заполнения тега TITLE

Title – тег названия страницы, который выводится первой строчкой в результатах поиска для каждого сайта и показывается в названии вкладки браузера с вашим сайтом. Его значение переоценить очень сложно, ведь именно он оказывает наибольшее влияние на ранжирование страницы, дает представление пользователям и самой поисковой системе о содержании страницы.

Как правильно заполнить тег title для страниц товаров и разделов интернет-магазина?

1. Тег title должен быть уникальным для каждой страницы

Если у вас в разделе каталога несколько страниц пагинации, обязательно добавьте в конце тега title: стр 1, стр 2, стр 3.

Даже если у вас на сайте представлены товары, которые отличаются только цветом, размером или поставщиком, проставьте в названии цвет, объем, размер или артикул, чтобы поисковые системы и покупатели могли понять, чем же отличаются товары на похожих страницах.

```html
    <title>Подарки для женщин - стр 1</title>
    <title>Подарки для женщин - стр 2</title>
    <title>Сковорода чугунная Emsa 18 см с крышкой</title>
    <title>Сковорода чугунная Emsa 18 см без крышки</title>
```

2. Тег title должен быть отличным от тегов description и h1

Тег title очень часто отображается в поисковой выдаче вместе с содержимым тега description, поэтому понятно, что они должны не дублироваться, а раскрывать и дополнять значение друг друга. Если же они идентичны, то поисковая машина выберет другой фрагмент текста с ключевым запросом, а вырванные из контекста фразы вряд ли приведут вам целевую аудиторию на сайт лучше, чем продуманные title и description.

Тег h1 – это видимый пользователю заголовок, расположенный вверху страницы раздела или товара. Тег h1 должен кратко и четко описывать товар: наименование, производитель, модель и т.д. К примеру, если в заголовке h1 товар просто назван, то в title и description вы можете добавить самые частотные коммерческие запросы, в том числе названия брендов кириллицей.

```html
    <h1>LED Телевизор SAMSUNG UE40J6330AU</h1>
    <title>Купить телевизор Samsung UE40J6330AU с бесплатной доставкой по Минску</title>
    <meta name="Description" content="В интернет-магазине 5-й элемент можно купить led телевизор SAMSUNG UE40J6330AU с гарантией и доставкой.">
```
3. Тег title должен быть оптимизирован под поисковые запросы, соответствующие тематике страницы

Title – это основной тег, который позволяет поисковым машинам понять какая информация  находится на странице, поэтому в него необходимо включить поисковый запрос соответствующий названию товара или раздела и несколько уточняющих коммерческих слов.

Тег title для страниц разделов интернет-магазина нужно формировать из наиболее общих запросов с высокой частотностью, например:

```
    Купить смартфон - цены, характеристики, отзывы;
    Купить автомобиль в рассрочку - без процентов и переплат;
    Холодильники no frost с доставкой и подъемом на этаж.
```
Тег title для страниц товаров нужно формировать из конкретизированных запросов, когда покупатель уже определился с тем, что купить, и выбирает, где это сделать:
```
    Купить фен Philips HP8233/00 цена;
    Заказать кондиционер General Climate GC/GU-S09HRIN1 с доставкой и установкой.
```

4. Тег title должен отражать реальное содержимое страницы

Title как можно точнее должен описывать, что пользователь встретит на сайте и что сможет с этим сделать. К примеру, если у вас на сайте можно только ознакомиться с ассортиментом, но нет возможности купить товар, то в title ни в коем случае не стоит включать коммерческие запросы со словами «купить», «заказать», «доставка» и т. д. Иначе пользователь, обманутый некорректным заголовком и разочарованный реальным положением вещей, через несколько секунд закроет ваш сайт. А это приведет к росту числа отказов, снижению поведенческих характеристик и, как следствие, падению интернет-магазина в рейтинге поисковых систем.

5. Тег title должен иметь структуру законченного предложения

Title является визитной карточкой страницы в результатах поиска, поэтому он должен быть читаемым, понятным и интересным для потенциальных покупателей.

Идеальная структура тега title отвечает на вопросы «Что? Где? Когда?

Обратите внимание: при формирования метатега title нельзя использовать «.» !

6. Тег title должен быть составлен грамотно

Не только тексты, то и теги не должны содержать грамматических ошибок, так как это одинаково не нравится ни пользователям, ни поисковым системам.

7. Тег title должен содержать не более 70 символов

На самом деле, в этот тег можно «впихнуть» даже 1200 символов, но какой в этом смысл, в результатах поиска отображается не более 70 символов?

    50–57 символов для Google;

Если title длинный, поисковая система сама выберет, какие 70 символов показать пользователю в соответствии с введенным запросом. И этот выбор непредсказуем. Лучше облегчить задачу поисковикам и стараться уместить все или самое важное в первые 50-70 символов, иначе все лишнее будет заменено троеточием. Причем поисковая система может сократить не только конец фразы, но и середину, и самое начало. Поэтому позаботьтесь о лаконичных и емких тайтлах для ваших страниц. Да, это не просто, но необходимо.

## Мета-тег description
Мета-тег description существует для описания страницы, которое помогает покупателю определиться, стоит ли переходить на страничку интернет-магазина или нет. Текст этого тега часто выводится поисковыми системами сразу под ссылкой на ваш интернет-магазин, а также подтягивается к ссылкам на товары в социальных сетях. По данным экспертного анализа сайтов, в 60% случаев Google формирует сниппет из мета-тега description. А это значит, что, описывая товар в теге description, вы повышаете шансы своего интернет-магазина оказаться выше в поисковой выдаче, чем те магазины, у которых этот тег не заполнен.

Мета-тег description напрямую не влияет на ранжирование сайтов в поисковых системах, а только косвенно повышает кликабельность вашего сайта в поиске, и за счет посещаемости и поведенческих факторов растут ваши позиции в рейтинге.

### Как правильно заполнить тег description
1. Мета-тег description должен описывать содержимое страницы

В случае интернет-магазина мета-тег description должен не только описывать, но и привлекать внимание, рекламировать товар и содержать заманчивое предложение для потенциальной аудитории. Это могут быть выгодные условия доставки, разные способы оплаты, гарантия 5 лет или ассортимент из 10 000 товаров.

2. Мета-тег description должен быть уникальным и отличным от тегов h1 и title

Правило уникальности относительно сайтов-конкурентов и иных текстов внутри сайта распространяется и на мета-тег description. Если поисковая система не найдет в привычном для нее месте описания страницы сайта, она возьмет тот отрывок, который посчитает нужным. Поэтому заполнять description нужно, ориентируясь в первую очередь на покупателей, исходя из их потребностей и проблем, которые может решить ваш продукт.


3. Мета-тег description может содержать все связанные с содержимым страницы ключевые запросы

Тег description может быть более развернутым, чем title, поэтому вам не составит труда составить четкое описание товара или раздела каталога с употреблением самых частотных ключевых слов, по которым ищут данный товар. 

4. Мета-тег description должен быть написан человеческим языком

Все правила о структуре предложения и грамотности высказывания также распространяются и на составление мета-тега description. Этот тег должен быть заполнен не простым перечислением ключевиков, а логичным высказыванием с грамотным употреблением и написанием запросов. В конце текста необходимо ставить точку или восклицательный знак, можно использовать спецсимволы.


5. Мета-тег description не должен превышать 150 символов

Это оптимальная длина описания, доступная для отображения в поисковиках. В среднем это две строчки текста с учетом пробелов. Также этот тег не должен быть слишком коротким (2-3 слова), иначе поисковику снова придется искать более развернутое описание для страницы вашего интернет-магазина.


## Тег h1 в коде страницы

Заголовок, заключенный в тег h1, обычно размещается вверху страницы и должен содержать наименование товара или название раздела. Теги h2-h6 служат для выделения подзаголовков по уровням. К примеру, в этом тексте использованы подзаголовки трех уровней:

```html
    <h1>Как правильно формировать SEO-теги для страниц интернет-магазина?</h1>
    <h2>Правила заполнения тега TITLE</h2>
    <h3>1. Тег title должен быть уникальным для каждой страницы</h3>
```

1. Тег h1 должен встречаться на странице только один раз

Иногда сеошники пытаются продвинуть сайты, чрезмерно злоупотребляя заголовками первого уровня на страницах сайта. Но поисковые системы давно научились распознавать черные методы продвижения и не придают значения таким примитивным сеошным уловкам.


2. Тег h1 должен быть уникальным

Уникализировать заголовки можно, добавляя в заголовки цены, цвета, размеры, артикулы и другие характеристики товара. Но лучше этим не увлекаться, так как заголовок написан для пользователя, и лучше его не отвлекать длинным заголовком, если всю эту информацию и так можно прочесть в характеристиках товара.

3. Тег h1 должен содержать поисковый запрос, соответствующий названию товара или раздела каталога

В рекомендациях для копирайтеров часто встречается совет употреблять в заголовках h1 основной ключевой запрос в прямом вхождении. Но также приветствуется в заголовках использование синонимов и ключевиков, разбавленных тематическими словами.

4.  Тег h1 должен быть информативным

Тег заголовка должен содержать максимум информации, поэтому вода и мусор тут не допустимы. Уберите из заголовков:

- прилагательные: самый лучший, оптимальный, современный, креативный;
- шаблонные фразы: быстрая доставка, низкие цены, отличный сервис;
- спецсимволы, заглавные буквы и восклицательные знаки.

Пусть в ваших заголовках будут бренды, модели, характеристики, а вывод о том, насколько ваши товары современны и креативны, предоставьте сделать своим покупателям.

5. Тег h1 не должен превышать более 7-8 слов

Лучше всего, если после публикации заголовок уместится в одну строку на сайте интернет-магазина. Это ускорит поиск информации, необходимой для принятия решения о покупке: цены, фото, контактов, преимуществ, способов доставки и оплаты.


## Мета-тег keywords

В мета-тег keywords по традиции записывают ключевые слова, которые встречаются на данной странице. Еще совсем недавно поисковые системы придавали значение содержимому мета-тега keywords, но благодаря сеошникам, которые увлекались переспамом, поисковые системы перестали обращать внимание на этот мета-тег при ранжировании сайтов. Сейчас он учитывается разве что для определения тематики страницы.

1.  Мета-тег keywords должен содержать ключевые запросы

В теге можно перечислить все поисковые запросы, но нельзя одни и те же запросы повторять несколько раз:

2.  Мета-тег keywords может содержать тематические слова и синонимы

Если вы продаете товар, который имеет несколько названий-синонимов, то это стоит перечислить в ключевых словах.

3.  Мета-тег keywords лучше формировать из существительных

Для этого мета-тега лучше использовать существительные единственного числа. Изредка – глаголы (купить, заказать, оплатить), еще реже – прилагательные (свежемороженая рыба, резиновый коврик).

4.  Мета-тег keywords не должен содержать никаких знаков пунктуации, кроме запятой

Можно ключевые слова перечислять через запятую или через пробел, но в конце нельзя ставить точек или каких-либо иных знаков препинания.

Если теги не соответствуют правилам их формирования, поисковые системы сами формируют сниппет (заголовок и описание страницы сайта) на страницах результатов поиска из содержимого других тегов, анкорных ссылок и других участков текста, которые поисковым роботам покажутся более адекватными запросам пользователей. 

Это происходит в нескольких случаях:

- Уменьшение или превышение оптимальной длины тегов;
- Отсутствие точных вхождений ключевиков;
- Повтор ключевых фраз в одном теге;
- Грамматические и синтаксические ошибки;
- Дубли на нескольких страницах сайта.

Более того, если теги не соответствуют требованиям поисковых систем, сайт с такими тегами будет показан только после сайтов с идеально составленными тегами. Поэтому формированию и заполнению тегов нужно отвести достаточно внимания, чтобы избежать дублей, переспама и, соответственно, падения позиций в поиске.


## Мета тег robots

Мета тег robots используется для управления доступностью веб страницы для поисковых сервисов. Вы можете разрешить или запретить индексирование страницы, следование по ссылкам и архивацию. 

Например:

```html
	<meta name=”robots” content=”noindex, nofollow” />

```

Мета тег robots представляет собой простой способ предотвратить индексацию дублирующего содержания, например, печатной версии страницы. Так же мета тег может быть полезен на незавершенных страницах или для скрытия конфиденциальной информации от поисковых сервисов.
 
 
## Отказ от перевода

Иногда Google предлагает ссылку на перевод страницы в результатах поиска. Но в некоторых ситуациях такая услуга не требуется. Если вы хотите отказаться от перевода страницы в Google, добавьте следующий мета тег:

```html
	<meta name=”google” content=”notranslate” />
```

## TABLE `metas`

```sql

CREATE TABLE `metas` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `resource_id` int(11) unsigned NOT NULL,
  `title` varchar(70) DEFAULT NULL,
  `links` varchar(255) DEFAULT NULL,
  `keywords` varchar(255) DEFAULT NULL,
  `description` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

```

## class Meta

```php

<?php


class Meta {

    public static function index() {

        $con = Connection::make();
        $sql = "SELECT * FROM metas
                ORDER BY id ASC";

        $res = $con->query($sql);

        $metas = $res->fetchAll(PDO::FETCH_ASSOC);
        return $metas;

    }

    public static function store ($options) {

        $con = Connection::make();
        $sql = "INSERT INTO metas(
                resource_id, title, links, keywords,
                description)
                VALUES (:resource_id, :title, :links,
                :keywords, :description)";

        $res = $con->prepare($sql);
        
        $res->bindParam(':resource_id', $options['resource_id'], PDO::PARAM_INT);

        $res->bindParam(':title', $options['title'], PDO::PARAM_STR);
        $res->bindParam(':keywords', $options['keywords'], PDO::PARAM_STR);
        $res->bindParam(':links', $options['links'], PDO::PARAM_STR);
        $res->bindParam(':description', $options['description'], PDO::PARAM_STR);

        if ($res->execute()) {
            return $con->lastInsertId();
        } else {
            return 0;
        }
    }

    public static function getMetas($resource)
    {
        $con = Connection::make();
        $sql = "SELECT * FROM metas
                WHERE resource_id = $resource";
        $res = $con->query($sql);

        $metas = $res->fetch(PDO::FETCH_ASSOC);
        return $metas;
    }

}


```


## class ProductsController

```php

class ProductsController extends Controller {

    private $metas = [];
    
    public function create () {

         //Принимаем данные из формы

         if (isset($_POST) and !empty($_POST)) {

            $options['name'] = trim(strip_tags($_POST['name']));
            $options['price'] = trim(strip_tags($_POST['price']));
            $options['category'] = trim(strip_tags($_POST['category']));
            $options['brand'] = trim(strip_tags($_POST['brand']));
            $options['description'] = trim(strip_tags($_POST['description']));

            $options['is_new'] = trim(strip_tags($_POST['is_new']));
            $options['status'] = trim(strip_tags($_POST['status']));

            Product::store($options);
            
            $product_id = (int)Product::lastId();

            $this->metas['resource_id'] = $product_id;
            
            $this->metas['title'] = trim(strip_tags($_POST['meta_title']));
            
            $this->metas['description'] = trim(strip_tags($_POST['meta_description']));
            
            $this->metas['keywords'] = trim(strip_tags($_POST['meta_keywords']));
            
            $this->metas['links'] = trim(strip_tags($_POST['meta_links']));

            Meta::store($this->metas);

            header('Location: /admin/products');
         }

         $data['title'] = 'Admin Product Add New Product ';
         $data['categories'] = Category::index();
         $this->_view->render('admin/products/create',$data);
     }

```


## admin/products/create

```html

            <hr>
            <div class="panel-body">
                
                <div class="form-group">
                    <label for="meta_title" class="col-sm-2 control-label">Page Title</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="meta_title" name="meta_title" placeholder="Page Title">
                    </div>
                </div>
                <div class="form-group">
                    <label for="meta_description" class="col-sm-2 control-label">Page meta description</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="meta_description" name="meta_description" placeholder="Page meta description">
                    </div>
                </div>
                <div class="form-group">
                    <label for="meta_keywords" class="col-sm-2 control-label">Page meta keywords</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="meta_keywords" name="meta_keywords" placeholder="Page meta keywords">
                    </div>
                </div>
                <div class="form-group">
                    <label for="meta_links" class="col-sm-2 control-label">Page meta links</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="meta_links" name="meta_links" placeholder="Page meta links">
                    </div>
                </div>
            </div>

```
